{% extends "layout.html" %} {% block title %}Login{% endblock %} {% block
layoutcenter %}
<!-- <script>
  function checkLoginState() {               // Called when a person is finished with the Login Button.
    FB.getLoginStatus(function(response) {   // See the onlogin handler
      statusChangeCallback(response);
    });

    FB.AppEvents.logPageView();

    FB.getLoginStatus(function (response) {
      if (response.status === 'connected') {
        
        let package = {
          token: response.authResponse.accessToken,
          expired: response.authResponse.data_access_expiration_time
        }
        axios.post("/authorized",package).then((response) => {
          if (response.status == 200) {
            console.log(response.data.message)
            location = "/"
          }
          else if (response.status == 201) {
            console.log(response.data.message)
            location = "/"
          }
          else {
            console.log(response.data.message)
            location = "/"
          }
        })
      }
      else {
        FB.login() 
      }
    });

     
  </script> -->

<div id="status"></div>
<div id="fb-root"></div>
<script
  async
  defer
  crossorigin="anonymous"
  src="https://connect.facebook.net/vi_VN/sdk.js#xfbml=1&version=v10.0"
  nonce="6G9uuJ2a"
></script>

<div
  class="card"
  style="padding-left: 20px; padding-top: 10px; padding-right: 10px"
>
  <h1>Log In</h1>
  <!-- <fb:login-button scope="public_profile,email" onlogin="checkLoginState();">
    </fb:login-button> -->
    <form>
      <div class="mb-3">
        <label for="exampleInputEmail1" class="form-label">Email address</label>
        <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
        <div id="emailHelp" class="form-text">We'll never share your email with anyone else.</div>
      </div>
      <div class="mb-3">
        <label for="exampleInputPassword1" class="form-label">Password</label>
        <input type="password" class="form-control" id="exampleInputPassword1">
      </div>
      <div class="mb-3 form-check">
        <input type="checkbox" class="form-check-input" id="exampleCheck1">
        <label class="form-check-label" for="exampleCheck1">Check me out</label>
      </div>
      <button type="submit" class="btn btn-primary">Submit</button>
    </form>
  <form action="" method="post" novalidate>
    {{ form.hidden_tag() }} {{ form.username.label }}
    <div class="input-group mb-2">
      <span class="input-group-text"> @ </span>
      {{ form.username(size=32, class="form-control") }} {% for error in
      form.username.errors %}
      <span style="color: red">[{{ error }}]</span>
      {% endfor %}
    </div>
    {{ form.password.label }}
    <div class="input-group mb-2">
      {{ form.password(size=32, class="form-control") }} {% for error in
      form.password.errors %}
      <span style="color: red">[{{ error }}]</span>
      {% endfor %}
    </div>
    <p>
      {{ form.remember_me(class="form-check-input") }} {{ form.remember_me.label
      }}
    </p>
    <p>{{ form.submit(class="btn btn-primary") }}</p>
  </form>

  <p>
    New User?
    <a href="{{ url_for('register') }}">Đăng ký</a>
  </p>
</div>
{% endblock %}
